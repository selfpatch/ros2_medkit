{
  "info": {
    "name": "ROS 2 Medkit Gateway API",
    "description": "Collection for ROS 2 Medkit Gateway REST API endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Discovery",
      "item": [
        {
          "name": "GET Server Capabilities",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                ""
              ]
            },
            "description": "Get server capabilities and entry points (REQ_INTEROP_010). Returns server name, version, available endpoints, and capabilities."
          },
          "response": []
        },
        {
          "name": "GET Version Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/version-info",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "version-info"
              ]
            },
            "description": "Get gateway status and version information (REQ_INTEROP_001). Returns status, version, and timestamp."
          },
          "response": []
        },
        {
          "name": "GET List Areas",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/areas",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "areas"
              ]
            },
            "description": "List all discovered areas (powertrain, chassis, body, root)"
          },
          "response": []
        },
        {
          "name": "GET List Components",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components"
              ]
            },
            "description": "List all discovered components across all areas. Returns component metadata including id, namespace, fqn, type, and parent area."
          },
          "response": []
        },
        {
          "name": "GET Area Components",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/areas/powertrain/components",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "areas",
                "powertrain",
                "components"
              ]
            },
            "description": "List components within a specific area. Returns 404 if area doesn't exist. Change 'powertrain' to other areas like 'chassis', 'body', etc."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Component Data",
      "item": [
        {
          "name": "GET Component Data (All Topics)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components/temp_sensor/data",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "temp_sensor",
                "data"
              ]
            },
            "description": "Read all topic data from a specific component. Returns array of topic samples with metadata (topic, timestamp, data). Change 'temp_sensor' to other component IDs like 'rpm_sensor', 'pressure_sensor', etc."
          },
          "response": []
        },
        {
          "name": "GET Component Topic Data (Temperature)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components/temp_sensor/data/temperature",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "temp_sensor",
                "data",
                "temperature"
              ]
            },
            "description": "Read specific topic data from a component. Returns single topic sample with topic path, timestamp, and data. The topic_name is relative to the component's namespace."
          },
          "response": []
        },
        {
          "name": "GET Component Topic Data (RPM)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components/rpm_sensor/data/rpm",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "rpm_sensor",
                "data",
                "rpm"
              ]
            },
            "description": "Read RPM topic data from the rpm_sensor component."
          },
          "response": []
        },
        {
          "name": "GET Component Topic Data (Pressure)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components/pressure_sensor/data/pressure",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "pressure_sensor",
                "data",
                "pressure"
              ]
            },
            "description": "Read brake pressure topic data from the pressure_sensor component."
          },
          "response": []
        },
        {
          "name": "PUT Publish Brake Command",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"std_msgs/msg/Float32\",\n  \"data\": {\n    \"data\": 50.0\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/components/actuator/data/command",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "actuator",
                "data",
                "command"
              ]
            },
            "description": "Publish data to a component topic (REQ_INTEROP_020). Request body must contain 'type' (ROS 2 message type) and 'data' (message payload). Returns publish confirmation with topic, type, status, and timestamp."
          },
          "response": []
        },
        {
          "name": "PUT Publish Temperature Value",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"sensor_msgs/msg/Temperature\",\n  \"data\": {\n    \"temperature\": 85.5,\n    \"variance\": 0.1\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/components/temp_sensor/data/temperature",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "temp_sensor",
                "data",
                "temperature"
              ]
            },
            "description": "Publish temperature data to the temp_sensor component. Example of publishing sensor_msgs/msg/Temperature type."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Operations",
      "item": [
        {
          "name": "Sync Operations (Services)",
          "item": [
            {
              "name": "GET List Component Operations",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/components",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components"
                  ]
                },
                "description": "List all components with their available operations. Each component includes an 'operations' array showing available services (kind: 'service') and actions (kind: 'action') with their types and paths."
              },
              "response": []
            },
            {
              "name": "POST Call Calibrate Service",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{}"
                },
                "url": {
                  "raw": "{{base_url}}/components/calibration/operations/calibrate",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "calibration",
                    "operations",
                    "calibrate"
                  ]
                },
                "description": "Call a ROS 2 service operation on a component. This example calls the std_srvs/srv/Trigger calibrate service. The service type is auto-discovered from the component's registered services. Response includes success status and service response data."
              },
              "response": []
            },
            {
              "name": "POST Call Service with Type Override",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"type\": \"std_srvs/srv/Trigger\",\n  \"request\": {}\n}"
                },
                "url": {
                  "raw": "{{base_url}}/components/calibration/operations/calibrate",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "calibration",
                    "operations",
                    "calibrate"
                  ]
                },
                "description": "Call a ROS 2 service with explicit type override. Use 'type' field to specify the service type (e.g., 'std_srvs/srv/Trigger') and 'request' field for the service request data. Useful when the service type cannot be auto-discovered."
              },
              "response": []
            },
            {
              "name": "POST Call Service (Error - Not Found)",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{}"
                },
                "url": {
                  "raw": "{{base_url}}/components/calibration/operations/nonexistent",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "calibration",
                    "operations",
                    "nonexistent"
                  ]
                },
                "description": "Example of calling a non-existent operation. Returns 500 error with 'Service not found' message."
              },
              "response": []
            }
          ]
        },
        {
          "name": "Async Operations (Actions) - TODO",
          "item": [
            {
              "name": "POST Start Action (send_goal)",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"goal\": {\n    \"order\": 10\n  }\n}"
                },
                "url": {
                  "raw": "{{base_url}}/components/calibration/operations/long_calibration",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "calibration",
                    "operations",
                    "long_calibration"
                  ]
                },
                "description": "[NOT YET IMPLEMENTED] Start an async action operation. For actions, POST starts the action and returns a goal_id for tracking progress. Response includes goal_id and status."
              },
              "response": []
            },
            {
              "name": "GET Action Status",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/components/calibration/operations/long_calibration/status?goal_id=abc123",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "calibration",
                    "operations",
                    "long_calibration",
                    "status"
                  ],
                  "query": [
                    {
                      "key": "goal_id",
                      "value": "abc123"
                    }
                  ]
                },
                "description": "[NOT YET IMPLEMENTED] Get the current status of a running action. Returns status (pending, executing, succeeded, canceled, aborted) and progress information."
              },
              "response": []
            },
            {
              "name": "GET Action Feedback",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/components/calibration/operations/long_calibration/feedback?goal_id=abc123",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "calibration",
                    "operations",
                    "long_calibration",
                    "feedback"
                  ],
                  "query": [
                    {
                      "key": "goal_id",
                      "value": "abc123"
                    }
                  ]
                },
                "description": "[NOT YET IMPLEMENTED] Get feedback from a running action. Returns the latest feedback message published by the action server with progress updates."
              },
              "response": []
            },
            {
              "name": "GET Action Result",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/components/calibration/operations/long_calibration/result?goal_id=abc123",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "calibration",
                    "operations",
                    "long_calibration",
                    "result"
                  ],
                  "query": [
                    {
                      "key": "goal_id",
                      "value": "abc123"
                    }
                  ]
                },
                "description": "[NOT YET IMPLEMENTED] Get the final result of a completed action. Returns the action result once the action has finished (succeeded, canceled, or aborted)."
              },
              "response": []
            },
            {
              "name": "DELETE Cancel Action",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/components/calibration/operations/long_calibration?goal_id=abc123",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "calibration",
                    "operations",
                    "long_calibration"
                  ],
                  "query": [
                    {
                      "key": "goal_id",
                      "value": "abc123"
                    }
                  ]
                },
                "description": "[NOT YET IMPLEMENTED] Cancel a running action. Sends cancel request to the action server. Returns confirmation of cancellation request."
              },
              "response": []
            }
          ]
        }
      ]
    }
  ]
}