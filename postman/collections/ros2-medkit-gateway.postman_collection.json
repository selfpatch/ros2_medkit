{
  "info": {
    "name": "ROS 2 Medkit Gateway API",
    "description": "Collection for ROS 2 Medkit Gateway REST API endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Discovery",
      "item": [
        {
          "name": "GET Server Capabilities",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                ""
              ]
            },
            "description": "Get server capabilities and entry points (REQ_INTEROP_010). Returns server name, version, available endpoints, and capabilities."
          },
          "response": []
        },
        {
          "name": "GET Version Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/version-info",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "version-info"
              ]
            },
            "description": "Get gateway status and version information (REQ_INTEROP_001). Returns status, version, and timestamp."
          },
          "response": []
        },
        {
          "name": "GET List Areas",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/areas",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "areas"
              ]
            },
            "description": "List all discovered areas (powertrain, chassis, body, root)"
          },
          "response": []
        },
        {
          "name": "GET List Components",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components"
              ]
            },
            "description": "List all discovered components across all areas. Returns component metadata including id, namespace, fqn, type, parent area, and available operations (services and actions)."
          },
          "response": []
        },
        {
          "name": "GET Area Components",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/areas/powertrain/components",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "areas",
                "powertrain",
                "components"
              ]
            },
            "description": "List components within a specific area. Returns 404 if area doesn't exist. Change 'powertrain' to other areas like 'chassis', 'body', etc."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Component Data",
      "item": [
        {
          "name": "GET Component Data (All Topics)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components/temp_sensor/data",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "temp_sensor",
                "data"
              ]
            },
            "description": "Read all topic data from a specific component. Returns array of topic samples with metadata (topic, timestamp, data). Change 'temp_sensor' to other component IDs like 'rpm_sensor', 'pressure_sensor', etc."
          },
          "response": []
        },
        {
          "name": "GET Component Topic Data (Temperature)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components/temp_sensor/data/temperature",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "temp_sensor",
                "data",
                "temperature"
              ]
            },
            "description": "Read specific topic data from a component. Returns single topic sample with topic path, timestamp, and data. The topic_name is relative to the component's namespace."
          },
          "response": []
        },
        {
          "name": "GET Component Topic Data (RPM)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components/rpm_sensor/data/rpm",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "rpm_sensor",
                "data",
                "rpm"
              ]
            },
            "description": "Read RPM topic data from the rpm_sensor component."
          },
          "response": []
        },
        {
          "name": "GET Component Topic Data (Pressure)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components/pressure_sensor/data/pressure",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "pressure_sensor",
                "data",
                "pressure"
              ]
            },
            "description": "Read brake pressure topic data from the pressure_sensor component."
          },
          "response": []
        },
        {
          "name": "PUT Publish Brake Command",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"std_msgs/msg/Float32\",\n  \"data\": {\n    \"data\": 50.0\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/components/actuator/data/command",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "actuator",
                "data",
                "command"
              ]
            },
            "description": "Publish data to a component topic (REQ_INTEROP_020). Request body must contain 'type' (ROS 2 message type) and 'data' (message payload). Returns publish confirmation with topic, type, status, and timestamp."
          },
          "response": []
        },
        {
          "name": "PUT Publish Temperature Value",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"sensor_msgs/msg/Temperature\",\n  \"data\": {\n    \"temperature\": 85.5,\n    \"variance\": 0.1\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/components/temp_sensor/data/temperature",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "temp_sensor",
                "data",
                "temperature"
              ]
            },
            "description": "Publish temperature data to the temp_sensor component. Example of publishing sensor_msgs/msg/Temperature type."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Operations",
      "item": [
        {
          "name": "Sync Operations (Services)",
          "item": [
            {
              "name": "GET List Component Operations",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/components",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components"
                  ]
                },
                "description": "List all components with their available operations. Each component includes an 'operations' array showing available services (kind: 'service') and actions (kind: 'action') with their types and paths."
              },
              "response": []
            },
            {
              "name": "POST Call Calibrate Service",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{}"
                },
                "url": {
                  "raw": "{{base_url}}/components/calibration/operations/calibrate",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "calibration",
                    "operations",
                    "calibrate"
                  ]
                },
                "description": "Call a ROS 2 service operation on a component. This example calls the std_srvs/srv/Trigger calibrate service. The service type is auto-discovered from the component's registered services. Response includes success status and service response data."
              },
              "response": []
            },
            {
              "name": "POST Call Service with Type Override",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"type\": \"std_srvs/srv/Trigger\",\n  \"request\": {}\n}"
                },
                "url": {
                  "raw": "{{base_url}}/components/calibration/operations/calibrate",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "calibration",
                    "operations",
                    "calibrate"
                  ]
                },
                "description": "Call a ROS 2 service with explicit type override. Use 'type' field to specify the service type (e.g., 'std_srvs/srv/Trigger') and 'request' field for the service request data. Useful when the service type cannot be auto-discovered."
              },
              "response": []
            },
            {
              "name": "POST Call Service (Error - Not Found)",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{}"
                },
                "url": {
                  "raw": "{{base_url}}/components/calibration/operations/nonexistent",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "calibration",
                    "operations",
                    "nonexistent"
                  ]
                },
                "description": "Example of calling a non-existent operation. Returns 500 error with 'Service not found' message."
              },
              "response": []
            }
          ]
        },
        {
          "name": "Async Operations (Actions)",
          "item": [
            {
              "name": "POST Send Action Goal (Long Calibration)",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"goal\": {\n    \"order\": 10\n  }\n}"
                },
                "url": {
                  "raw": "{{base_url}}/components/long_calibration/operations/long_calibration",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "long_calibration",
                    "operations",
                    "long_calibration"
                  ]
                },
                "description": "Start an async action operation. Sends a goal to the action server and returns immediately with goal_id. Response includes goal_id, goal_status (executing/succeeded), kind (action), and component info. Takes ~3-4 seconds due to CLI discovery. The action continues running in the background."
              },
              "response": []
            },
            {
              "name": "POST Send Short Action Goal (Fast)",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"goal\": {\n    \"order\": 3\n  }\n}"
                },
                "url": {
                  "raw": "{{base_url}}/components/long_calibration/operations/long_calibration",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "long_calibration",
                    "operations",
                    "long_calibration"
                  ]
                },
                "description": "Send a short action goal (order=3 completes in ~1.5s). If the action completes within 3 seconds, goal_status will be 'succeeded' immediately."
              },
              "response": []
            },
            {
              "name": "GET Action Status (Latest)",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/components/long_calibration/operations/long_calibration/status",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "long_calibration",
                    "operations",
                    "long_calibration",
                    "status"
                  ]
                },
                "description": "Get the status of the most recent action goal. No goal_id needed - the gateway tracks goals internally and returns the latest one. Returns goal_id, status (accepted/executing/succeeded/canceled/aborted), action_path, and action_type."
              },
              "response": []
            },
            {
              "name": "GET Action Status (Specific Goal)",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/components/long_calibration/operations/long_calibration/status?goal_id={{goal_id}}",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "long_calibration",
                    "operations",
                    "long_calibration",
                    "status"
                  ],
                  "query": [
                    {
                      "key": "goal_id",
                      "value": "{{goal_id}}"
                    }
                  ]
                },
                "description": "Get the status of a specific action goal by goal_id. Use this when you have multiple concurrent goals and need to track a specific one."
              },
              "response": []
            },
            {
              "name": "GET Action Status (All Goals)",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/components/long_calibration/operations/long_calibration/status?all=true",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "long_calibration",
                    "operations",
                    "long_calibration",
                    "status"
                  ],
                  "query": [
                    {
                      "key": "all",
                      "value": "true"
                    }
                  ]
                },
                "description": "Get the status of all tracked goals for this action. Returns an array of goals sorted by most recent first, with count."
              },
              "response": []
            },
            {
              "name": "DELETE Cancel Action Goal",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/components/long_calibration/operations/long_calibration?goal_id={{goal_id}}",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "components",
                    "long_calibration",
                    "operations",
                    "long_calibration"
                  ],
                  "query": [
                    {
                      "key": "goal_id",
                      "value": "{{goal_id}}"
                    }
                  ]
                },
                "description": "Cancel a running action goal. Sends cancel request to the action server. Returns confirmation with status 'canceling'. Use GET /status to verify the goal was canceled (status becomes 'canceled')."
              },
              "response": []
            }
          ]
        }
      ]
    },
    {
      "name": "Configurations",
      "item": [
        {
          "name": "GET List Component Configurations",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components/temp_sensor/configurations",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "temp_sensor",
                "configurations"
              ]
            },
            "description": "List all parameters (configurations) for a component. Returns component_id, node_name, and array of parameters with name, value, and type. Maps to SOVD Configurations API."
          },
          "response": []
        },
        {
          "name": "GET Specific Configuration (publish_rate)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components/temp_sensor/configurations/publish_rate",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "temp_sensor",
                "configurations",
                "publish_rate"
              ]
            },
            "description": "Get a specific parameter value for a component. Returns component_id and parameter object with name, value, type, description, and read_only flag."
          },
          "response": []
        },
        {
          "name": "GET Specific Configuration (min_temp)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components/temp_sensor/configurations/min_temp",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "temp_sensor",
                "configurations",
                "min_temp"
              ]
            },
            "description": "Get the min_temp parameter value from the temp_sensor component."
          },
          "response": []
        },
        {
          "name": "PUT Set Configuration (min_temp)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"value\": 80.0\n}"
            },
            "url": {
              "raw": "{{base_url}}/components/temp_sensor/configurations/min_temp",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "temp_sensor",
                "configurations",
                "min_temp"
              ]
            },
            "description": "Set a parameter value for a component. Request body must contain 'value' field. Returns status, component_id, and updated parameter object. The value type is automatically converted to match the existing parameter type."
          },
          "response": []
        },
        {
          "name": "PUT Set Configuration (publish_rate)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"value\": 5.0\n}"
            },
            "url": {
              "raw": "{{base_url}}/components/temp_sensor/configurations/publish_rate",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "temp_sensor",
                "configurations",
                "publish_rate"
              ]
            },
            "description": "Change the publish rate of the temp_sensor component. Default is 2.0 Hz, valid range is 0.1-100.0 Hz. The demo node will dynamically update its timer."
          },
          "response": []
        },
        {
          "name": "DELETE Configuration (Not Supported)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components/temp_sensor/configurations/min_temp",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "temp_sensor",
                "configurations",
                "min_temp"
              ]
            },
            "description": "Attempt to delete a configuration. Returns 405 Method Not Allowed because ROS 2 does not support deleting parameters at runtime. The Allow header indicates GET and PUT are supported."
          },
          "response": []
        },
        {
          "name": "GET Configuration (Error - Not Found)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/components/temp_sensor/configurations/nonexistent_param",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "components",
                "temp_sensor",
                "configurations",
                "nonexistent_param"
              ]
            },
            "description": "Example of requesting a non-existent parameter. Returns 404 with error details."
          },
          "response": []
        }
      ]
    }
  ]
}
